{"version":3,"file":"b-block-carousel-features/view.js","mappings":"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","sources":["webpack://boombit-blocks/./src/b-block-carousel-features/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n/* eslint-disable no-console */\nconsole.log( 'Hello World! (from create-block-boombit-blocks block)' );\n/* eslint-enable no-console */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    const slider = document.querySelector('.boombit-block-carousel-features-content');\n    const slides = document.querySelectorAll('.boombit-block-carousel-features-item');\n    const prevBtn = document.querySelector('.prev');\n    const nextBtn = document.querySelector('.next');\n    const dotsContainer = document.querySelector('.thedots');\n\n    let currentIndex = 0;\n    let isMoving = false;\n\n    // Copiar el primer y último slide para efecto infinito\n    const firstClone = slides[0].cloneNode(true);\n    const lastClone = slides[slides.length - 1].cloneNode(true);\n\n    slider.appendChild(firstClone);\n    slider.insertBefore(lastClone, slides[0]);\n\n    const allSlides = document.querySelectorAll('.boombit-block-carousel-features-item');\n    const slideCount = allSlides.length;\n    slider.style.transform = `translateX(0%)`; // Posición inicial\n\n    // Crear dots dinámicamente\n    slides.forEach((_, index) => {\n      const dot = document.createElement('span');\n      dot.classList.add('dot');\n      if (index === 0) dot.classList.add('active');\n      dot.dataset.index = index;\n      \n      dotsContainer.appendChild(dot);\n      console.log(dotsContainer)\n    });\n\n    dotsContainer.removeChild(dotsContainer.lastElementChild);\n\n    const dots = document.querySelectorAll('.dot');\n\n    function updateDots() {\n      dots.forEach((dot, index) => {\n        dot.classList.toggle('active', index === currentIndex);\n      });\n    }\n\n    function moveSlider() {\n      slider.style.transition = 'transform 0.5s ease-in-out';\n      slider.style.transform = `translateX(-${(currentIndex + 1) * 50}%)`;\n    }\n\n    function handleNext() {\n      if (isMoving) return;\n      isMoving = true;\n      currentIndex++;\n      moveSlider();\n      setTimeout(() => {\n        if (currentIndex >= (slides.length - 1)) {\n          slider.style.transition = 'none';\n          currentIndex = 0;\n          slider.style.transform = `translateX(0%)`;\n        }\n        updateDots();\n        isMoving = false;\n      }, 500);\n    }\n\n    function handlePrev() {\n      if (isMoving) return;\n      isMoving = true;\n      currentIndex--;\n      moveSlider();\n      setTimeout(() => {\n        if (currentIndex < 0) {\n          slider.style.transition = 'none';\n          currentIndex = (slides.length - 1) - 1;\n          slider.style.transform = `translateX(-${slideCount - 2}00%)`;\n        }\n        updateDots();\n        isMoving = false;\n      }, 500);\n    }\n\n    function goToSlide(index) {\n      if (isMoving) return;\n      currentIndex = index;\n      moveSlider();\n      updateDots();\n    }\n\n    nextBtn.addEventListener('click', handleNext);\n    prevBtn.addEventListener('click', handlePrev);\n\n    dots.forEach(dot => {\n      dot.addEventListener('click', () => {\n        goToSlide(Number(dot.dataset.index));\n      });\n    });\n\n    // (Opcional) Desliza automáticamente cada 5 segundos\n    setInterval(handleNext, 5000);\n});"],"names":["console","log","document","addEventListener","slider","querySelector","slides","querySelectorAll","prevBtn","nextBtn","dotsContainer","currentIndex","isMoving","firstClone","cloneNode","lastClone","length","appendChild","insertBefore","allSlides","slideCount","style","transform","forEach","_","index","dot","createElement","classList","add","dataset","removeChild","lastElementChild","dots","updateDots","toggle","moveSlider","transition","handleNext","setTimeout","handlePrev","goToSlide","Number","setInterval"],"sourceRoot":""}